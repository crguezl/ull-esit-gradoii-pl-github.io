<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.21.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Árboles de Análisis Abstracto - PL</title>
<meta name="description" content="Itinerario de Computación. 2º cuatrimestre">


  <meta name="author" content=" Casiano Rodríguez León">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="PL">
<meta property="og:title" content="Árboles de Análisis Abstracto">
<meta property="og:url" content="http://0.0.0.0:4000/assets/temas/syntax-analysis/analisis-descendente-predictivo-recursivo/ast-description.html">


  <meta property="og:description" content="Itinerario de Computación. 2º cuatrimestre">











  

  


<link rel="canonical" href="http://0.0.0.0:4000/assets/temas/syntax-analysis/analisis-descendente-predictivo-recursivo/ast-description.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Procesadores de Lenguajes",
      "url": "http://0.0.0.0:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="PL Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use :/https/realfavicongenerator.net/ -->

<meta http-equiv="Content-Security-Policy" content="img-src * 'self' data: https:">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

      

  

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/escuela-politecnica-ingenieria-original.png" alt=""></a>
        
        <a class="site-title" href="/">
          PL
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/clases">Clases</a>
            </li><li class="masthead__menu-item">
              <a href="/temas">Temas</a>
            </li><li class="masthead__menu-item">
              <a href="/practicas">Labs</a>
            </li><li class="masthead__menu-item">
              <a href="/resources">Recursos</a>
            </li><li class="masthead__menu-item">
              <a href="/timetables">Horarios</a>
            </li><li class="masthead__menu-item">
              <a href="/references">Referencias</a>
            </li><li class="masthead__menu-item">
              <a href="/search">Search</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
      
      
      
      
    
    
      

<nav class="nav__list">
  <h3 class="nav__title" style="padding-left: 0;"></h3>
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">GITHUB</span>
        

        
        <ul>
          
            <li><a href="https://github.com/ULL-ESIT-PL-2122" target="_blank">Organization</a></li>
          
            <li><a href="https://classroom.github.com/classrooms/90842648-ull-esit-pl-2122" target="_blank">Classroom</a></li>
          
            <li><a href="https://github.com/ULL-ESIT-GRADOII-PL/ull-esit-gradoii-pl.github.io" target="_blank">Apuntes repo</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">CAMPUS VIRTUAL</span>
        

        
        <ul>
          
            <li><a href="https://campusingenieriaytecnologia2122.ull.es/course/view.php?id=2122090039" target="_blank">PL en el Campus Virtual</a></li>
          
            <li><a href="https://campusingenieriaytecnologia2122.ull.es/mod/forum/index.php?id=2122090039" target="_blank">Foros</a></li>
          
            <li><a href="https://campusingenieriaytecnologia2122.ull.es/mod/assign/index.php?id=2122090039" target="_blank">Tareas</a></li>
          
            <li><a href="https://www.ull.es/apps/guias/guias/view_guide_course/2122/139263121" target="_blank">Guia Docente</a></li>
          
            <li><a href="https://www.ull.es/apps/guias/guias/view_guide_course/2122/139263121/3/" target="_blank">Horario de Tutorías</a></li>
          
            <li><a href="https://www.ull.es/grados/ingenieria-informatica/informacion-academica/horarios-y-calendario-examenes/#tercero" target="_blank">Horarios Tercero</a></li>
          
            <li><a href="https://www.ull.es/servicios/biblioteca/servicios/puntoq/" target="_blank">BULL PuntoQ</a></li>
          
            <li><a href="https://www.ull.es/estudios-docencia/calendario-academico/" target="_blank">Calendario Académico</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">GOOGLE</span>
        

        
        <ul>
          
            <li><a href="https://meet.google.com/eha-yfij-zmo" target="_blank">Meet</a></li>
          
            <li><a href="https://youtube.com/playlist?list=PLuPGCp-dfrUTzN_o2beArY1QoFUTGH-yd" target="_blank">Videos</a></li>
          
            <li><a href="https://chat.google.com/u/1/" target="_blank">Chat</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Árboles de Análisis Abstracto">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Árboles de Análisis Abstracto
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-list"></i> Tabla de Contenidos</h4></header>
              <ul class="toc__menu" id="pltoc"><li><a href="#alfabeto-con-aridad-o-alfabeto-árbol">Alfabeto con Aridad o Alfabeto Árbol</a><ul><li><a href="#alfabeto-con-función-de-aridad">Alfabeto con Función de Aridad</a></li></ul></li><li><a href="#lenguaje-de-los-arboles-o-términos">Lenguaje de los Arboles o Términos</a></li><li><a href="#aridad--de-los-nodos-en-egg">Aridad  de los Nodos en Egg</a></li><li><a href="#implementación-de-los-nodos-de-los-ast-de-egg">Implementación de los Nodos de los AST de Egg</a></li><li><a href="#example-ast-x-5">Example: AST &gt;(x, 5)</a></li><li><a href="#example-ast--a45">Example: AST ` +(a,*(4,5))`</a></li><li><a href="#gramática-árbol">Gramática Árbol</a><ul><li><a href="#gramática-informal-de-los-árboles-del-parser-de-egg">Gramática Informal de los árboles del Parser de Egg</a></li></ul></li><li><a href="#notación-de-dewey-o-coordenadas-de-un-árbol">Notación de Dewey o Coordenadas de un Árbol</a><ul><li><a href="#es-una-idea-muy-repetida-otras-notaciones">Es una idea muy repetida: Otras notaciones</a></li></ul></li><li><a href="#códigos-para-la-construcción-de-los-asts-de-egg-con-un-algoritmo-pdr">Códigos para la Construcción de los ASTs de Egg con un algoritmo PDR</a><ul><li><a href="#código-de-parse">Código de parse</a></li><li><a href="#código-de-parseexpression">Código de parseExpression</a></li><li><a href="#código-de-parseapply">Código de parseApply</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <!-- {#section:eyapaat} -->

<p>Un Árbol de Análisis Abstracto (denotado <em>AAA</em>, en inglés <em>AST</em>) porta la misma información que el árbol de análisis sintáctico concreto pero de forma mas condensada, eliminándose
terminales y producciones que no aportan información.</p>

<p><em>The data structure that the parser will use to describe a program consists of node objects, each of which has a <strong>type</strong> property indicating the kind of expression it is and other properties to describe its content.</em></p>

<p>El árbol de análisis sintáctico abstracto es una representación
compactada del árbol de análisis sintáctico concreto que contiene la
misma información que éste.</p>

<p>Por ejemplo, para una gramática que acepta expresiones como:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">x</span><span class="o">=</span><span class="mi">1</span>
<span class="nx">y</span><span class="o">=</span><span class="mi">2</span>
<span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="nx">x</span><span class="o">+</span><span class="nx">y</span><span class="p">)</span>
</code></pre></div></div>

<p>este es un ejemplo de árbol sintáctico concreto:</p>

<p><img src="/assets/images/concrete-syntax-tree.png" alt="" /></p>

<p>y este un posible árbol sintáctico abstracto con la misma información que el anterior:</p>

<p><img src="/assets/images/ast.png" alt="" /></p>

<h2 id="alfabeto-con-aridad-o-alfabeto-árbol">Alfabeto con Aridad o Alfabeto Árbol</h2>

<p>No deja de ser curioso que es posible definir un equivalente del cierre de Kleene \(\Sigma^*\) de un alfabeto \(\Sigma\) para modelizar matemáticamente los árboles.</p>

<p>Para ello se empieza definiendo lo que es un <strong>alfabeto con función de aridad</strong>:</p>

<h3 id="alfabeto-con-función-de-aridad">Alfabeto con Función de Aridad</h3>

<p>Un <strong>alfabeto con función de aridad</strong> es un par \((\Sigma, \rho)\) donde \(\Sigma\) es un conjunto finito y
\(\rho\) es una función</p>

\[\rho: \Sigma \rightarrow ℕ_0 \cup \{ * \}\]

<p>denominada <strong>función de aridad</strong>. Aquí \(ℕ_0\) denota al conjunto de los números naturales incluyendo el cero.</p>

<p>Denotamos por \(\Sigma_k\) los elementos del alfabeto con aridad <em>k</em>:</p>

\[\Sigma_k = \{ a \in \Sigma :\ \rho(a) = k \}\]

<p>\(\Sigma_0\) son las hojas, \(\Sigma_1\) son los elementos con un solo hijo,
\(\Sigma_2\) los nodos binarios, 
\(\Sigma_*\) son los nodos con aridad variable, 
etc.</p>

<h2 id="lenguaje-de-los-arboles-o-términos">Lenguaje de los Arboles o Términos</h2>

<p>Definimos el conjunto de los árboles \(B(\Sigma)\) con alfabeto \(\Sigma\) inductivamente:</p>

<ul>
  <li>El árbol vacío está en \(B(\Sigma)\)</li>
  <li>Todos los elementos de aridad 0  así como los de aridad variable \(\Sigma_*\) están en \(B(\Sigma)\):
    <ul>
      <li>\(a \in  \Sigma_0\) implica \(a \in B(\Sigma)\)</li>
      <li>\(a \in  \Sigma_*\) implica \(a \in B(\Sigma)\)</li>
    </ul>
  </li>
  <li>Si \(b_1, \ldots , b_k \in B(\Sigma)\) y \(f \in \Sigma_k\) es un
elemento \(k\)-ario o bien es de aridad variable, entonces \(f(b_1 \ldots  b_k) \in B(\Sigma)\)</li>
</ul>

<p>Los elementos de \(B(\Sigma)\) se llaman <strong>árboles</strong> o <strong>términos</strong>.</p>

<p>\(B(\Sigma)\) es el conjunto de todos los árboles posibles.</p>

<p>Al igual que cuando parseamos las cadenas hablamos de <strong>tokens</strong> para hablar de la 
ocurrencia en la cadena de un elemento del alfabeto aquí hablamos de <strong>nodos</strong> para 
hablar de la ocurrencia de un elemento \(f \in \Sigma_k\) dentro de un árbol.</p>

<p>\(B(\Sigma)\) es a los <em>nodos</em> (árboles) lo  que \(\Sigma*\) es a las tokens (strings).</p>

<h2 id="aridad--de-los-nodos-en-egg">Aridad  de los Nodos en Egg</h2>

<p>Los AST con los que trabajamos en nuestro parser son de tres tipos</p>

\[\Sigma = \{ VALUE, \, WORD, \, APPLY, \, ARRAY \}\]

<p>con aridad:</p>

<ul>
  <li>\(\rho(VALUE) = 0\) los nodos <em>VALUE</em> son hojas</li>
  <li>\(\rho(WORD) = 0\) los nodos <em>WORD</em> los consideramos hojas</li>
  <li>\(\rho(APPLY) = 2\) un <em>APPLY</em> tiene dos hijos: el hijo <em>OPERATOR</em> y el hijo <em>ARGS</em> que es un array</li>
  <li>\(\rho(ARRAY) = *\) los arrays contienen diferentes números de árboles</li>
</ul>

<h2 id="implementación-de-los-nodos-de-los-ast-de-egg">Implementación de los Nodos de los AST de Egg</h2>

<p>En cuanto a la implementación, al igual que con los tokens, los nodos son objetos y tienen propiedades.
Todos los nodos tiene una propiedad <code class="language-plaintext highlighter-rouge">type</code> que determina que tipo de nodo es y por tanto su aridad.</p>

<ul>
  <li>Los nodos del tipo <code class="language-plaintext highlighter-rouge">VALUE</code> representan constantes (literals) STRINGS o NUMBERS.
    <ul>
      <li>Their <code class="language-plaintext highlighter-rouge">value</code> property contains the string or number value that they represent.</li>
    </ul>
  </li>
  <li>Nodes of type <code class="language-plaintext highlighter-rouge">WORD</code> are used for identifiers (names).
    <ul>
      <li>Such objects have a <code class="language-plaintext highlighter-rouge">name</code> property that holds the identifier’s name as a string.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">APPLY</code> nodes represent applications. They have an
    <ul>
      <li><code class="language-plaintext highlighter-rouge">operator</code> property that refers to the expression that is being applied, and an</li>
      <li><code class="language-plaintext highlighter-rouge">args</code> property that is an <em>special</em> node: <code class="language-plaintext highlighter-rouge">ARRAY</code></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">ARRAY</code> is in fact an <em>special node</em> of ASTs that holds the arguments of the application</li>
</ul>

<h2 id="example-ast-x-5">Example: AST <code class="language-plaintext highlighter-rouge">&gt;(x, 5)</code></h2>

<p>For example, The AST resulting from parsing the input</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;(x, 5)
</code></pre></div></div>
<p>would be represented like this term:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>APPLY(
  WORD, 
  ARRAY[
    WORD, 
    VALUE
  ]
)
</code></pre></div></div>

<p>or if we want to explicit the attributes we can extend the notation to look like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>APPLY(
  operator: WORD{name:&gt;}, 
  args:     ARRAY[
              WORD{name:x} 
              VALUE{value:5}
            ]
)
</code></pre></div></div>

<p>More precisely, describing its actual implementation attributes:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cat greater-x-5.egg 
&gt;(x,5)
$ ./eggc.js greater-x-5.egg 
$ cat greater-x-5.egg.evm
</code></pre></div></div>

<p>Here is the JSON:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">apply</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">operator</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">word</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&gt;</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">args</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">word</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">x</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="example-ast--a45">Example: AST ` +(a,*(4,5))`</h2>

<p>Otro ejemplo, el AST para <code class="language-plaintext highlighter-rouge">+(a,*(4,5))</code> sería</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>APPLY(
  WORD,
  ARRAY[
    WORD, 
    APPLY(
      WORD, 
      ARRAY[VALUE, VALUE]
    )
   ]
)
</code></pre></div></div>

<p>Que explicitando los atributos sería:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>APPLY(
  operator: WORD[{name: +},
  args: ARRAY[
    WORD{name: a}, 
    APPLY(
      name: WORD{name:*}, 
      args: ARRAY[VALUE{value:4}, VALUE{value:5}]
    )
   ]
)
</code></pre></div></div>

<h2 id="gramática-árbol">Gramática Árbol</h2>

<p>Una Gramática Árbol en nuestra definición 
es una cuadrupla \(((\Sigma, \rho), N, P, S)\), donde:</p>

<ul>
  <li>
    <p>\((\Sigma, \rho)\) es un alfabeto con aridad
\(\rho: \Sigma \rightarrow ℕ_0 \cup \{ * \}\)</p>
  </li>
  <li>
    <p>\(N\) es un conjunto finito de variables sintácticas o no terminales</p>
  </li>
  <li>
    <p>\(P\) es un conjunto finito de reglas de producción de la forma
\(A \rightarrow s\) con \(A \in N\) y \(s \in B(\Sigma \cup N)\)</p>
  </li>
  <li>
    <p>\(S \in N\) es la variable o símbolo de arranque</p>
  </li>
</ul>

<p>NOTA: <a href="https://en.wikipedia.org/wiki/Regular_tree_grammar">Regular Tree Grammar</a> en la Wikipedia</p>

<h3 id="gramática-informal-de-los-árboles-del-parser-de-egg">Gramática Informal de los árboles del Parser de Egg</h3>

<p>En nuestro intérprete de Egg  los árboles usados son los generados por esta gramática:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ast: VALUE
   | WORD 
   | APPLY( WORD ARRAY( ast * ))
</code></pre></div></div>

<h2 id="notación-de-dewey-o-coordenadas-de-un-árbol">Notación de Dewey o Coordenadas de un Árbol</h2>

<p>La <a href="https://en.wikipedia.org/wiki/Dewey_Decimal_Classification">notación de Dewey</a> (1876)
es una forma de
especificar los subárboles de un árbol \(t \in B(\Sigma)\). La notación
sigue el mismo esquema que la numeración de secciones en un texto: es
una palabra formada por números separados por puntos. Así <em>t/2.1.3</em>
denota al tercer hijo del primer hijo del segundo hijo del árbol \(t\).</p>

<p>La definición formal por inducción sería:</p>

<ul>
  <li>
    <p>\(t/\epsilon = t\). Esto es, si el sufijo es \(\epsilon\) es el propio árbol</p>
  </li>
  <li>
    <p>Si \(t = a(t_1, \ldots t_k)\) y \(j \in \{ 1 \ldots k \}\) y \(n\) es una
cadena de números y puntos, se define inductivamente el subárbol
\(t/j.n\) como el subárbol \(n\)-ésimo del \(j\)-ésimo subárbol de \(t\).
Esto es: \(t/j.n = t_j/n\)</p>
  </li>
</ul>

<p>Por ejemplo si:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>t =  
APPLY(
  operator: WORD{name:+}, 
  args: [
      WORD{name:a}, 
      APPLY(
        operator: WORD{name:*}, 
        args: [VALUE{value:4},VALUE{value:5}]
      )
  ]
)
</code></pre></div></div>

<p>Entonces (indexando en 1), si no me equivoco:</p>

<ul>
  <li><em>t/1</em> sería el árbol <em>WORD{name:+}</em></li>
  <li><em>t/2.1</em> sería el <em>WORD{name:a}</em></li>
  <li><em>t/2.2.2.1 sería *VALUE{value:4}</em></li>
</ul>

<h3 id="es-una-idea-muy-repetida-otras-notaciones">Es una idea muy repetida: Otras notaciones</h3>

<p>En realidad, la notación de Dewey es equivalente al operador “.”<br />
que usamos en los lenguajes de programación para denotar los atributos de un objeto. 
Con el “.” a partir de <code class="language-plaintext highlighter-rouge">t</code> podemos construir expresiones como:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>t.operator, t.operator.name, t.args.0.name, t.args.1.args.0.value
</code></pre></div></div>

<p>La misma idea aparece en el uso del operador “/” para denotar subdirectorios en Unix 
<code class="language-plaintext highlighter-rouge">/src/js/tutu.js</code> y sub-recursos en una URL.</p>

<p>También en el lenguaje <a href="https://en.wikipedia.org/wiki/XPath#Abbreviated_syntax">XPath</a> para hablar de elementos de los objetos de un documento XML. 
For example, the expression “<code class="language-plaintext highlighter-rouge">A//B/*[1]</code>” selects the first child (“<code class="language-plaintext highlighter-rouge">*[1]</code>”), whatever its name, of every “<code class="language-plaintext highlighter-rouge">B</code>” element that itself is a child or other, deeper descendant (“<code class="language-plaintext highlighter-rouge">//</code>”) of an “<code class="language-plaintext highlighter-rouge">A</code>” element that is a child of the current context node (the expression does not begin with a “<code class="language-plaintext highlighter-rouge">/</code>”).</p>

<p>The language <a href="https://stedolan.github.io/jq/manual/">jq</a> to select sub-objects inside a JSON is another example.</p>

<h2 id="códigos-para-la-construcción-de-los-asts-de-egg-con-un-algoritmo-pdr">Códigos para la Construcción de los ASTs de Egg con un algoritmo PDR</h2>

<h3 id="código-de-parse">Código de parse</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">parse</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">setProgram</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
  <span class="nx">lex</span><span class="p">();</span>
  <span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">parseExpression</span><span class="p">();</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">lookahead</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nx">SyntaxError</span><span class="p">(</span><span class="s2">`Unexpected input after reached the end of parsing </span><span class="p">${</span><span class="nx">lineno</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">program</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>

  <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="código-de-parseexpression">Código de parseExpression</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">parseExpression</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">expr</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">lookahead</span><span class="p">.</span><span class="nx">type</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">STRING</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">expr</span> <span class="o">=</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="nx">lookahead</span><span class="p">.</span><span class="nx">value</span><span class="p">};</span>
    <span class="nx">lex</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">expr</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">lookahead</span><span class="p">.</span><span class="nx">type</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">NUMBER</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">expr</span> <span class="o">=</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="nx">lookahead</span><span class="p">.</span><span class="nx">value</span><span class="p">};</span>
    <span class="nx">lex</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">expr</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">lookahead</span><span class="p">.</span><span class="nx">type</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">WORD</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">expr</span> <span class="o">=</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">word</span><span class="dl">"</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="nx">lookahead</span><span class="p">.</span><span class="nx">value</span><span class="p">};</span>
    <span class="nx">lex</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">parseApply</span><span class="p">(</span><span class="nx">expr</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nx">SyntaxError</span><span class="p">(</span><span class="s2">`Unexpected syntax line </span><span class="p">${</span><span class="nx">lineno</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">program</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="código-de-parseapply">Código de parseApply</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">parseApply</span><span class="p">(</span><span class="nx">tree</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">lookahead</span><span class="p">)</span> <span class="k">return</span> <span class="nx">tree</span><span class="p">;</span>   <span class="c1">// apply: /* vacio */</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">lookahead</span><span class="p">.</span><span class="nx">type</span> <span class="o">!==</span> <span class="dl">"</span><span class="s2">LP</span><span class="dl">"</span><span class="p">)</span> <span class="k">return</span> <span class="nx">tree</span><span class="p">;</span> <span class="c1">// apply: /* vacio */</span>

  <span class="nx">lex</span><span class="p">();</span>

  <span class="nx">tree</span> <span class="o">=</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">apply</span><span class="dl">'</span><span class="p">,</span> <span class="na">operator</span><span class="p">:</span> <span class="nx">tree</span><span class="p">,</span> <span class="na">args</span><span class="p">:</span> <span class="p">[]};</span>
  <span class="k">while</span> <span class="p">(</span><span class="nx">lookahead</span> <span class="o">&amp;&amp;</span> <span class="nx">lookahead</span><span class="p">.</span><span class="nx">type</span> <span class="o">!==</span> <span class="dl">"</span><span class="s2">RP</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">arg</span> <span class="o">=</span> <span class="nx">parseExpression</span><span class="p">();</span>
    <span class="nx">tree</span><span class="p">.</span><span class="nx">args</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">arg</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">lookahead</span> <span class="o">&amp;&amp;</span> <span class="nx">lookahead</span><span class="p">.</span><span class="nx">type</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">COMMA</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">lex</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">lookahead</span> <span class="o">||</span> <span class="nx">lookahead</span><span class="p">.</span><span class="nx">type</span> <span class="o">!==</span> <span class="dl">"</span><span class="s2">RP</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nx">SyntaxError</span><span class="p">(</span><span class="s2">`Expected ',' or ')'  at line </span><span class="p">${</span><span class="nx">lineno</span><span class="p">}</span><span class="s2">: ... </span><span class="p">${</span><span class="nx">program</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">lookahead</span><span class="p">)</span>  <span class="k">throw</span> <span class="k">new</span> <span class="nx">SyntaxError</span><span class="p">(</span><span class="s2">`Expected ')'  at line </span><span class="p">${</span><span class="nx">lineno</span><span class="p">}</span><span class="s2">: ... </span><span class="p">${</span><span class="nx">program</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
  <span class="nx">lex</span><span class="p">();</span>

  <span class="k">return</span> <span class="nx">parseApply</span><span class="p">(</span><span class="nx">tree</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>



        


        

        <br/>
        <br/>
        <br/>

        <script src="https://utteranc.es/client.js"
          repo="ULL-ESIT-GRADOII-PL/ull-esit-gradoii-pl.github.io"
          issue-term="pathname"
          theme="github-light"
          crossorigin="anonymous"
          async>
       </script>

        
 
      </section>

      <footer class="page__meta">
        
        


        
      </footer>
     
      
        <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="whatsapp://send?text=%C3%81rboles+de+An%C3%A1lisis+Abstracto%20http%3A%2F%2F0.0.0.0%3A4000%2Fassets%2Ftemas%2Fsyntax-analysis%2Fanalisis-descendente-predictivo-recursivo%2Fast-description.html" 
  class="btn btn--twitter" 
  style="position: relative; 
  color: #fff; 
  background-color: #5bb66f;
  " 
  onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"> 
  <i class="fab fa-fw fa-whatsapp" aria-hidden="true">
 </i><span> Whatsapp</span></a>

  <a 
   href="https://twitter.com/intent/tweet?text=%C3%81rboles+de+An%C3%A1lisis+Abstracto%20http%3A%2F%2F0.0.0.0%3A4000%2Fassets%2Ftemas%2Fsyntax-analysis%2Fanalisis-descendente-predictivo-recursivo%2Fast-description.html" 
   class="btn btn--twitter" 
   onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" 
   title="Share on Twitter">
   <i class="fab fa-fw fa-twitter" aria-hidden="true"></i>
   <span> Twitter</span>
  </a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2F0.0.0.0%3A4000%2Fassets%2Ftemas%2Fsyntax-analysis%2Fanalisis-descendente-predictivo-recursivo%2Fast-description.html" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>


   <a 
    href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2F0.0.0.0%3A4000%2Fassets%2Ftemas%2Fsyntax-analysis%2Fanalisis-descendente-predictivo-recursivo%2Fast-description.html" 
    class="btn btn--linkedin" 
    onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" 
    title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>
  
</section>

      
         
      

      <section class="page__share">   
     <a href="https://github.com/ULL-ESIT-GRADOII-PL/ull-esit-gradoii-pl.github.io/tree/master//assets/temas/syntax-analysis/analisis-descendente-predictivo-recursivo/ast-description.md" 
        target="_blank" 
        style="background-color: #6f42c1; color: #ffff" 
        class="btn btn--twitter">
        <i class="fab fa-fw fa-github" aria-hidden="true"></i>
        <span>✏️</span>
      </a>
    
</section>
  

    </div>

  </article>

  
  
</div>

<!-- Mathjax Support  -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>


<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>
    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022  Casiano Rodríguez León. 


  <!--

  Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; 
  <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.
    
  -->
</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
